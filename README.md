#  MVP Anypoint Connector monday.com 
This is a simple opensource monday.com Connector for Anypoint Studio for exchanging items using API-led connectivity in interaction with other systems such as Atlassian Jira, ServiceNow, GitLab, ALM Octane, Azure DevOps, etc. 
This monday.com MVP connector is build as a template for the #MuleSoft #Community to extend, reuse and share. 

Use the monday.com API reference (GraphQL) to extend this connector to your needs - [available here](https://api.developer.monday.com/docs/basics)
Also worth using the Interactive API Client of qTest - [available here](https://monday.com/developers/v2/try-it-yourself) 

## Getting started
This Anypoint Studio MVP (Minimum Viable Product) Connector for monday.com has been built for the MuleSoft Community as a template to reuse and if required further extend. 
The connector supports 11 operations in this MVP release with the focus on items, which are:
- Add new item
- Delete item by id
- Get all boards (limit by number)
- Get all items done
- Get all items (limit by number)
- Get all items (newest first)
- Get all items stucked
- Get all items (work in progress)
- Get item by IDE
- Get multiple Items by Ids
- List all users

## Installation of the MVP Connector for monday.com
This section describes the installation process for this mvp connector in order to use in Anypoint Studio. 

### Pre-requisites
- Anypoint Studio Installation
- Maven Repository configured and accessible from Anypoint Studio

### Step 1 - Download the MVP monday.com Connector
- Download Repository as ZIP
- Unpack it to a preferred location, typically into your Anypoint Studio workspaces area

### Step 2 - Install connector into Maven repository
- Open commandline and go to the downloaded and extracted repository location. 
- Perform "mvn install" 
- Connector should be installed successfully

![Image of monday.com MuleSoft Connector](https://github.com/API-Activist/devops-mvp-anypoint-connector-jenkins/blob/master/cmd%20mvn%20install.PNG)

### Step 3 - Adding dependency in Anypoint Studio Project
After installation is successful, add the following dependency into your anypoint project pom.xml:

		<dependency>
			<classifier>mule-plugin</classifier>
			<groupId>embrace.devops.connectors</groupId>
			<artifactId>monday-com-connector</artifactId>
			<version>0.0.3</version>
		</dependency>

The current version of this connector is 0.0.3. Once added, save the pom.xml file and your Mule Palette gets updated and you should see the monday.com connector.

![Image of monday.com MuleSoft Connector](https://github.com/API-Activist/devops-mvp-anypoint-connector-jenkins/blob/master/jenkins-mule-palette.PNG)

### Step 4 - Create monday.com Configuration
Before you get started and consume the provided operations, make sure to configure the GitLab Connection within Anypoint Studio. 
- URL
- Token

[Learn how to obtain the Token for monday.com](https://api.developer.monday.com/docs/authentication)

![Image of monday.com MuleSoft Connector](https://github.com/API-Activist/devops-mvp-anypoint-connector-jenkins/blob/master/Jenkins-config.PNG)

Now you are all set to use the monday.com Operations.

## Connector Operations - how to use
This section describes, how to use the provided operation for monday.com Connector.

The MVP version of the monday.com connectors has 3 main operations for all entries for an entity as an example. 
- **Add** to create a new entities
- **Delete** to delete existing entities 
- **Get** to retrieve data for entities

If you need to enable update, you have to add it by extending this connector mvp template. 

**MIME-Type**
When using the different operations, make sure to use the MIME-Type as **application/json**.
![Image of monday.com MuleSoft Connector](https://github.com/API-Activist/devops-mvp-anypoint-connector-jenkins/blob/master/Jenkins-config.PNG)


**Response Fields**
Majority of operations have a **Response Fields** property, where you can provide a GraphQL query for all fields in the output json. 


### Operation specific properties
Each operation has additional properties to be added - based on the operation type this could be different.

Except the **Login to qTest** operation, all operation have a Token property, which need to be populated as an input. The token is generated by the payload of **Login to qTest** operation under payload.access_token. Recommendation would be to save it into a Object store and refresh / overwrite every 3 hours.

Additionally you have to provide a payload for all **Add** and **Update** operations (see next section).

![Image of monday.com MuleSoft Connector](https://github.com/API-Activist/devops-mvp-anypoint-connector-jenkins/blob/master/Jenkins-config.PNG)

### How to use the payload property
As monday.com payloads have couple of fields, it is recommended to use the Transform Message component before. 

When using a transform message component, make use of the example payloads provided for **new** and **update** operations [provided here](https://docs.microsoft.com/en-us/rest/api/azure/devops/core/teams/create?view=azure-devops-rest-6.1).


### Reponse of operations
By default it is a json sent back as string. Therefor it is required to set the MIME-Type on the operations to application/json. 

	{
	
		"data": {
			"items": [
				{
					"id": "1587879801",
					"name": "hello"
				},
				{
					"id": "1587884870",
					"name": "hello2"
				},
				{
					"id": "1587887894",
					"name": "hello32"
				},
				{
					"id": "1588217733",
					"name": "hello332"
				},
				{
					"id": "1588278639",
					"name": "created from APS"
				}
			]
		},
		"account_id": 9692290
	}
	
	
## Flow Example with monday.com operations
![Image of monday.com interaction](https://github.com/API-Activist/devops-mvp-anypoint-connector-gitlab/blob/master/pictures/Gitlab-jenkins-Jira.PNG)

	
## Video Tutorial
Link to the video tutorial: -to be provided soon-


## Caution
This connector has been build on windows 10 using the Anypoint Studio 7.10 IDE. It has only been tested with monday.com Cloud, so it won't work on monday.com Server (on premise). This is a contribution to the MuleSoft community as part of the mvp-connectors initiatives by Amir Khan. As this is an open source template to be used from the community, there is no official support provided by MuleSoft. Also if operations are missing, please use the monday.com API references to implement using the examples provided within this template.
	
monday.com API Reference: [available here](https://api.developer.monday.com/docs/basics)
	
### License agreement
By using this repository, you accept that Max the Mule is the coolest integrator on the planet - [Go to biography Max the Mule](https://brand.salesforce.com/content/characters-overview__3?tab=BogXMx2m)
